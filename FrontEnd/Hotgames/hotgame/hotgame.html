<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Hot Nh·∫•t Tu·∫ßn N√†y</title>
    <link rel="stylesheet" href="../css/hotgame.css">
    <link rel="icon" type="image/png" sizes="96x96" href="../../Home/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../../Home/favicon/web-app-manifest-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../../Home/favicon/web-app-manifest-512x512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../../Home/favicon/apple-touch-icon.png">
    <link rel="manifest" href="../../Home/favicon/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header id="header">
        <a href="../../Home/home/home.html" class="logo-link">
            <img src="../../Home/img/logo.png" alt="Logo WarStorm" class="logo" data-src="../../Home/img/logo.png">
        </a>
        <h1>üî• Game Hot Nh·∫•t Tu·∫ßn</h1>
        <button id="menu-toggle">‚ò∞</button>
        <nav id="mobile-menu">
            <ul>
                <li><a href="../../Home/home/home.html">Trang ch·ªß</a></li>
                <li><a href="../../News/news/news.html">Tin t·ª©c</a></li>
                <li><a href="../../Esports/esports/esport.html">ESPORTS</a></li>
                <li><a href="../../Store/store.html">Store</a></li>
                <li><a href="../../Footer/contact.html">Li√™n h·ªá</a></li>
            </ul>
        </nav>
    </header>

    <div class="search-container">
        <input type="text" class="search-input" placeholder="T√¨m ki·∫øm game...">
        <i class="fas fa-search search-icon"></i>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button>
        <button class="filter-btn" data-filter="action">H√†nh ƒë·ªông</button>
        <button class="filter-btn" data-filter="strategy">Chi·∫øn thu·∫≠t</button>
        <button class="filter-btn" data-filter="rpg">RPG</button>
        <button class="filter-btn" data-filter="sports">Th·ªÉ thao</button>
    </div>

    <section id="hot-games-1">
        <div class="game-item" data-category="strategy">
            <img src="../img/a2.png" alt="Game 1" loading="lazy" data-src="../img/a2.png">
            <h2>[Tam Qu·ªëc Ch√≠ - Chi·∫øn L∆∞·ª£c] Ra m·∫Øt m√πa gi·∫£i m·ªõi "Tr·∫≠n ƒê·ªìng Quan", SP M√£ Si√™u long tr·ªçng ra m·∫Øt</h2>
            <a href="../Deltail/deltail1.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item" data-category="rpg">
            <img src="../img/b1.webp" alt="Game 2" loading="lazy" data-src="../img/b1.webp">
            <h2>VNGGames c√¥ng b·ªë ph√°t h√†nh si√™u ph·∫©m Lineage2M t·∫°i Vi·ªát Nam</h2>
            <a href="../Deltail/deltail2.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item" data-category="rpg">
            <img src="../img/c1.webp" alt="Game 3" loading="lazy" data-src="../img/c1.webp">
            <h2>T√¢y Du Truy·ªÅn K·ª≥ Mobile - Game ƒë·∫•u t∆∞·ªõng T√¢y Du Phong Th·∫ßn k·∫øt h·ª£p Tu Ti√™n s·∫Øp ra m·∫Øt</h2>
            <a href="../Deltail/deltail3.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item" data-category="action">
            <img src="../img/d1.webp" alt="Game 4" loading="lazy" data-src="../img/d1.webp">
            <h2>Xu·∫•t hi·ªán t·ª±a game m·ªõi l√† ƒë·ªëi th·ªß n·∫∑ng k√Ω c·ªßa CS:GO v√† Valorant, l∆∞·ª£ng ng∆∞·ªùi ch∆°i tƒÉng v·ªçt tr√™n Steam</h2>
            <a href="../Deltail/deltail4.html" class="see-more-btn">Xem Th√™m</a>
        </div>
    </section>

    <section id="hot-games-2">
        <div class="game-item-sub hidden" data-category="rpg">
            <img src="../img/e1.webp" alt="Game 5" loading="lazy" data-src="../img/e1.webp">
            <h2>Yulgang: T√°i Chi·∫øn V√µ L√¢m ch√≠nh th·ª©c ra m·∫Øt h√¥m nay 13/3</h2>
            <a href="../Deltail/detail5.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item-sub hidden" data-category="sports">
            <img src="../img/f1.webp" alt="Game 6" loading="lazy" data-src="../img/f1.webp">
            <h2>Si√™u ph·∫©m ƒëua xe c·ªßa NetEase c√¥ng b·ªë ng√†y ra m·∫Øt ch√≠nh th·ª©c khi·∫øn game th·ªß h√†o h·ª©ng</h2>
            <a href="../Deltail/detail6.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item-sub hidden" data-category="action">
            <img src="../img/g1.webp" alt="Game 7" loading="lazy" data-src="../img/g1.webp">
            <h2>Mini World Royale - S·∫£n ph·∫©m b·∫Øn s√∫ng sinh t·ªìn vui nh·ªôn v·ªõi ƒë·ªì h·ªça c·ª±c d·ªÖ th∆∞∆°ng</h2>
            <a href="../Deltail/detail7.html" class="see-more-btn">Xem Th√™m</a>
        </div>

        <div class="game-item-sub hidden" data-category="action">
            <img src="../img/h1.jpg" alt="Game 8" loading="lazy" data-src="../img/h1.jpg">
            <h2>Tr·∫£i Nghi·ªám ARK Survival Evolved Tr√™n ƒêi·ªán Tho·∫°i Th√†nh C√¥ng R·ª±c R·ª° V·ªõi H∆°n 3 Tri·ªáu L∆∞·ª£t T·∫£i</h2>
            <a href="../Deltail/detail8.html" class="see-more-btn">Xem Th√™m</a>
        </div>
    </section>

    <div class="load-more-wrapper">
        <button class="btn-load-more" id="loadMoreBtn">T·∫£i th√™m b√†i vi·∫øt</button>
    </div>

    <button class="dark-mode-toggle" id="darkModeToggle">
        <i class="fas fa-moon"></i>
    </button>

    <footer class="container">
        <p>&copy; 2025 WarStorm. All rights reserved.</p>
        <a href="../../Footer/privacy-policy.html">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
        <a href="../../Footer/terms-and-conditions.html">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
        <a href="../../Footer/contact.html">Li√™n h·ªá</a>
    </footer>

    <script>
        // Mobile Menu
        document.addEventListener("DOMContentLoaded", function () {
            const menuToggle = document.getElementById("menu-toggle");
            const mobileMenu = document.getElementById("mobile-menu");

            menuToggle.addEventListener("click", function () {
                mobileMenu.classList.toggle("active");
            });

            document.addEventListener("click", function (event) {
                if (!menuToggle.contains(event.target) && !mobileMenu.contains(event.target)) {
                    mobileMenu.classList.remove("active");
                }
            });
        });

        // Load More Functionality  
        document.addEventListener("DOMContentLoaded", function() {
            const loadMoreBtn = document.getElementById("loadMoreBtn");
            const hiddenGames = document.querySelectorAll(".game-item-sub");
            let currentIndex = 0;
            const gamesPerClick = 4;

            // Ban ƒë·∫ßu ·∫©n t·∫•t c·∫£ game items
            hiddenGames.forEach(game => {
                game.classList.add("hidden");
            });

            // Hi·ªán loadMoreBtn n·∫øu c√≥ items ƒë·ªÉ hi·ªÉn th·ªã
            if(hiddenGames.length > 0) {
                loadMoreBtn.style.display = "block";
            }

            loadMoreBtn.addEventListener("click", function() {
                for (let i = currentIndex; i < currentIndex + gamesPerClick && i < hiddenGames.length; i++) {
                    if (hiddenGames[i]) {
                        hiddenGames[i].classList.remove("hidden");
                        hiddenGames[i].style.animation = "fadeIn 0.5s ease forwards";
                    }
                }

                currentIndex += gamesPerClick;

                // ·∫®n n√∫t khi ƒë√£ load h·∫øt
                if (currentIndex >= hiddenGames.length) {
                    loadMoreBtn.style.display = "none";
                }
            });
        });

        // Search Functionality
        const searchInput = document.querySelector(".search-input");
        const gameItems = document.querySelectorAll(".game-item, .game-item-sub");

        searchInput.addEventListener("input", function() {
            const searchTerm = this.value.toLowerCase();

            gameItems.forEach(item => {
                const title = item.querySelector("h2").textContent.toLowerCase();
                if (title.includes(searchTerm)) {
                    item.style.display = "block";
                } else {
                    item.style.display = "none";
                }
            });
        });

        // Filter Functionality
        const filterBtns = document.querySelectorAll(".filter-btn");
        
        filterBtns.forEach(btn => {
            btn.addEventListener("click", function() {
                // Remove active class from all buttons
                filterBtns.forEach(btn => btn.classList.remove("active"));
                // Add active class to clicked button
                this.classList.add("active");

                const filter = this.getAttribute("data-filter");

                gameItems.forEach(item => {
                    if (filter === "all" || item.getAttribute("data-category") === filter) {
                        item.style.display = "block";
                        item.style.animation = "fadeIn 0.5s ease forwards";
                    } else {
                        item.style.display = "none";
                    }
                });
            });
        });

        // Dark Mode Toggle 
        document.addEventListener("DOMContentLoaded", function() {
            const darkModeToggle = document.getElementById("darkModeToggle");
            const body = document.body;

            // Check saved dark mode preference
            if (localStorage.getItem("darkMode") === "enabled") {
                body.classList.add("dark-mode");
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }

            // Toggle dark mode
            darkModeToggle.addEventListener("click", function() {
                body.classList.toggle("dark-mode");
                
                if (body.classList.contains("dark-mode")) {
                    localStorage.setItem("darkMode", "enabled");
                    this.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    localStorage.setItem("darkMode", "disabled");
                    this.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });
        });

        // Lazy Loading Images
        const images = document.querySelectorAll("img[loading='lazy']");
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.getAttribute("data-src");
                    img.removeAttribute("loading");
                    observer.unobserve(img);
                }
            });
        });

        images.forEach(img => imageObserver.observe(img));
    </script>
</body>
</html>